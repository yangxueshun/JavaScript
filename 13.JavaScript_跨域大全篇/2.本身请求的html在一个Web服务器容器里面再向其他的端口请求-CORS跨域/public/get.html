<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>get方法跨域请求数据</title>
</head>
<body>
<button onclick="getData()">请求数据</button>

<!--直接在本地打开这个html文件去请求后端数据实际上也就产生了跨域-->

<script>
    var xhr = new XMLHttpRequest();//创建xhr对象 这里不考虑浏览器兼容问题
    function getData(){
        xhr.open("get","http://127.0.0.1:3001/api");
        xhr.send(null);
    }
    //!!! 注意这里虽然是跨域请求 虽然控制台拿不到数据会报错
    // !!!但是浏览器的NetWork发送的这个ajax请求是可以拿到数据的 因为ajax请求本身就是封装了http请求的 http请求是没有跨域限制的
    xhr.onreadystatechange=function () {
        if(xhr.status==200 && xhr.readyState==4){
            console.log(xhr.responseText);
        }
    }
</script>
</body>
</html>